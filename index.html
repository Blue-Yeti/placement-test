<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vocabulary Placement Test</title>
<style>
  /* SERIOUS NEO-BRUTALISM PALETTE */
  :root {
    --bg: #e2e8f0;
    --accent-primary: #f6bb17ff; /* Industrial Orange */
    --accent-secondary: #2f73d1ff; /* Cobalt Blue */
    --accent-success: #22c55e;
    --black: #1a1a1a;
    --white: #ffffff;
  }

  body {
    font-family: 'Helvetica Neue', Arial, sans-serif;
    background-color: var(--bg);
    color: var(--black);
    padding: 40px 20px;
    margin: 0;
    line-height: 1.5;
  }

  .test-container {
    max-width: 850px;
    margin: auto;
    background: var(--white);
    padding: 40px;
    border: 4px solid var(--black);
    box-shadow: 12px 12px 0px var(--black);
  }

  h1 {
    font-size: 3rem;
    font-weight: 900;
    text-transform: uppercase;
    margin: 0 0 30px 0;
    letter-spacing: -1px;
    border-bottom: 8px solid var(--black);
    display: inline-block;
  }

  .instruction {
    font-weight: 700;
    margin-bottom: 40px;
    padding: 20px;
    border: 3px solid var(--black);
    box-shadow: 6px 6px 0px var(--black);
  }

  /* Group Styling */
  .group-container {
    border: 3px solid var(--black);
    padding: 25px;
    margin-bottom: 50px;
    background: var(--white);
    box-shadow: 8px 8px 0px var(--black);
  }
  
  .group-header {
    font-weight: 900;
    text-transform: uppercase;
    font-size: 1.1rem;
    background: var(--black);
    color: var(--white);
    padding: 5px 15px;
    display: inline-block;
    margin-bottom: 25px;
    transform: skewX(-10deg);
  }

  .question {
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 2px solid #ddd;
  }

  .question:last-child {
    border-bottom: none;
  }

  .definition {
    font-weight: 800;
    font-size: 1.2rem;
    margin-bottom: 15px;
    display: block;
  }

  .options {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }

  button.option {
    padding: 10px 16px;
    border: 2px solid var(--black);
    background: var(--white);
    cursor: pointer;
    font-weight: 700;
    font-size: 0.95rem;
    transition: transform 0.1s, box-shadow 0.1s;
    box-shadow: 3px 3px 0px var(--black);
  }

  button.option:hover:not(.disabled):not(.selected) {
    background: #f0f0f0;
    transform: translate(-1px, -1px);
    box-shadow: 4px 4px 0px var(--black);
  }

  button.option.selected {
    background: var(--accent-secondary) !important;
    color: var(--white);
    box-shadow: none;
    transform: translate(3px, 3px);
  }

  button.option.disabled {
    opacity: 0.2;
    cursor: not-allowed;
    filter: grayscale(1);
    box-shadow: none;
  }
  
  button.option.not-sure {
    border-style: dashed;
    background: #f8fafc;
  }

  button.option.not-sure.selected {
  background: #6b7280 !important;  /* Gray */
  color: var(--white);
  border-color: var(--black);
}

  /* Submit Logic Styling */
  .submit-container {
    text-align: center;
    margin-top: 50px;
  }

  .submit-btn {
    padding: 25px 60px;
    font-size: 1.5rem;
    text-transform: uppercase;
    border: 4px solid var(--black);
    background: var(--accent-success);
    color: var(--black);
    cursor: pointer;
    font-weight: 900;
    box-shadow: 10px 10px 0px var(--black);
    transition: all 0.2s;
  }

  .submit-btn:disabled {
    background: #a1a1aa;
    box-shadow: 5px 5px 0px var(--black);
    cursor: not-allowed;
    transform: none;
    opacity: 0.7;
  }

  .submit-btn:hover:not(:disabled) {
    transform: translate(-4px, -4px);
    box-shadow: 14px 14px 0px var(--black);
  }

  #result-display {
    margin-top: 40px;
    padding: 40px;
    text-align: center;
    font-size: 2.5rem;
    font-weight: 900;
    border: 6px solid var(--black);
    display: none;
    box-shadow: 15px 15px 0px var(--black);
  }
  
  .score-good { background: var(--accent-success); color: white; }
  .score-mid { background: #d4bc50ff;; color: white; }
  .score-bad { background: #ef4444; color: white; }

</style>
</head>
<body>

<div class="test-container">
  <h1>Vocab Test 1000</h1>
  <p class="instruction">Instructions: If not sure, select [Not Sure] option. You must answer all the questions. The test will take you about 10 minutes.</p>

  <div id="quiz-content"></div>

  <div class="submit-container">
    <button class="submit-btn" id="submitBtn" disabled>Answer all questions</button>
  </div>
  
  <div id="result-display"></div>
</div>

<script>
  // RESTORED ORIGINAL DATA AND LOGIC
  const quizData = [
    {
      words: ["bar", "conversation", "neighbor", "rain", "rubbish", "shirt"],
      questions: [
        { id: 1, def: "person who lives nearby", correct: "neighbor" },
        { id: 2, def: "things that are thrown away", correct: "rubbish" },
        { id: 3, def: "type of clothing", correct: "shirt" }
      ]
    },
    {
      words: ["continue", "cook", "phone", "pull", "sail", "share"],
      questions: [
        { id: 4, def: "hold and move something toward yourself", correct: "pull" },
        { id: 5, def: "keep happening", correct: "continue" },
        { id: 6, def: "use together with others", correct: "share" }
      ]
    },
    {
      words: ["enter", "finish", "happen", "own", "sing", "worry"],
      questions: [
        { id: 7, def: "end", correct: "finish" },
        { id: 8, def: "go inside", correct: "enter" },
        { id: 9, def: "have something that is yours", correct: "own" }
      ]
    },
    {
      words: ["arrive", "collect", "consider", "glance", "need", "pack"],
      questions: [
        { id: 10, def: "look quickly at something", correct: "glance" },
        { id: 11, def: "reach the place you are going", correct: "arrive" },
        { id: 12, def: "think about something", correct: "consider" }
      ]
    },
    {
      words: ["affordable", "beautiful", "boring", "dry", "rough", "tall"],
      questions: [
        { id: 13, def: "higher than normal", correct: "tall" },
        { id: 14, def: "not flat", correct: "rough" },
        { id: 15, def: "not interesting", correct: "boring" }
      ]
    },
    {
      words: ["closed", "dirty", "empty", "musical", "orange", "sad"],
      questions: [
        { id: 16, def: "having nothing", correct: "empty" },
        { id: 17, def: "not clean", correct: "dirty" },
        { id: 18, def: "unhappy", correct: "sad" }
      ]
    },
    {
      words: ["boy", "rent", "report", "size", "station", "thing"],
      questions: [
        { id: 19, def: "how big or small something is", correct: "size" },
        { id: 20, def: "place buses and trains go to", correct: "station" },
        { id: 21, def: "young man", correct: "boy" }
      ]
    },
    {
      words: ["ear", "gold", "lake", "letter", "office", "people"],
      questions: [
        { id: 22, def: "information sent to people", correct: "letter" },
        { id: 23, def: "men and women", correct: "people" },
        { id: 24, def: "place for working", correct: "office" }
      ]
    },
    {
      words: ["fellow", "hat", "ice", "joke", "light", "system"],
      questions: [
        { id: 25, def: "funny story", correct: "joke" },
        { id: 26, def: "man or boy", correct: "fellow" },
        { id: 27, def: "something worn on your head", correct: "hat" }
      ]
    },
    {
      words: ["date", "forest", "mistake", "news", "record", "shop"],
      questions: [
        { id: 28, def: "latest information", correct: "news" },
        { id: 29, def: "place with many trees", correct: "forest" },
        { id: 30, def: "something that is not right", correct: "mistake" }
      ]
    }
  ];

  const userAnswers = {};
  const totalQuestions = 30;
  const contentDiv = document.getElementById("quiz-content");
  const submitBtn = document.getElementById("submitBtn");
  const resultDisplay = document.getElementById("result-display");

  function initQuiz() {
    quizData.forEach((group, groupIndex) => {
      const groupDiv = document.createElement("div");
      groupDiv.className = "group-container";
      const groupHeader = document.createElement("div");
      groupHeader.className = "group-header";
      groupHeader.textContent = `Section ${groupIndex + 1}`;
      groupDiv.appendChild(groupHeader);
      group.questions.forEach(q => {
        const qDiv = document.createElement("div");
        qDiv.className = "question";
        qDiv.dataset.id = q.id;
        qDiv.dataset.groupIndex = groupIndex;
        const defDiv = document.createElement("div");
        defDiv.className = "definition";
        defDiv.textContent = `${q.id}. ${q.def}`;
        const optionsDiv = document.createElement("div");
        optionsDiv.className = "options";
        qDiv.appendChild(defDiv);
        qDiv.appendChild(optionsDiv);
        groupDiv.appendChild(qDiv);
      });
      contentDiv.appendChild(groupDiv);
    });
    renderAllOptions();
  }

  function renderAllOptions() {
    const questionDivs = document.querySelectorAll(".question");
    questionDivs.forEach(qDiv => {
      const qId = parseInt(qDiv.dataset.id);
      const groupIndex = parseInt(qDiv.dataset.groupIndex);
      const optionsContainer = qDiv.querySelector(".options");
      const groupInfo = quizData[groupIndex];
      const wordsUsedInGroup = new Set();
      groupInfo.questions.forEach(q => {
        if (q.id !== qId && userAnswers[q.id] && userAnswers[q.id] !== "Not Sure") {
          wordsUsedInGroup.add(userAnswers[q.id]);
        }
      });

      optionsContainer.innerHTML = "";
      groupInfo.words.forEach(word => {
        const btn = document.createElement("button");
        btn.textContent = word;
        btn.className = "option";
        if (userAnswers[qId] === word) btn.classList.add("selected");
        if (wordsUsedInGroup.has(word)) {
          btn.classList.add("disabled");
          btn.disabled = true;
        }
        btn.addEventListener("click", () => {
           if (userAnswers[qId] === word) delete userAnswers[qId];
           else userAnswers[qId] = word;
           renderAllOptions();
           updateSubmitState();
        });
        optionsContainer.appendChild(btn);
      });

      const nsBtn = document.createElement("button");
      nsBtn.textContent = "Not Sure";
      nsBtn.className = "option not-sure";
      if (userAnswers[qId] === "Not Sure") nsBtn.classList.add("selected");
      nsBtn.addEventListener("click", () => {
         if (userAnswers[qId] === "Not Sure") delete userAnswers[qId];
         else userAnswers[qId] = "Not Sure";
         renderAllOptions();
         updateSubmitState();
      });
      optionsContainer.appendChild(nsBtn);
    });
  }

  // EXACT ORIGINAL LOGIC: submitBtn.disabled = answeredCount !== totalQuestions;
  function updateSubmitState() {
    const answeredCount = Object.keys(userAnswers).length;
    submitBtn.disabled = (answeredCount !== totalQuestions);
    
    if(answeredCount !== totalQuestions) {
        submitBtn.textContent = `Answer all questions (${answeredCount}/${totalQuestions})`;
    } else {
        submitBtn.textContent = "Submit Test";
    }
  }

  submitBtn.addEventListener("click", () => {
    let score = 0;
    quizData.forEach(group => {
      group.questions.forEach(q => {
        if (userAnswers[q.id] === q.correct) score++;
      });
    });
    const percentage = Math.round((score / totalQuestions) * 100);
    resultDisplay.style.display = "block";
    resultDisplay.textContent = `FINAL SCORE: ${score}/${totalQuestions} (${percentage}%)`;
    resultDisplay.className = "";
    if(percentage >= 90) resultDisplay.classList.add("score-good");
    else if(percentage >= 80) resultDisplay.classList.add("score-mid");
    else resultDisplay.classList.add("score-bad");
    resultDisplay.scrollIntoView({ behavior: 'smooth' });
    document.querySelectorAll("button.option").forEach(btn => btn.disabled = true);
    submitBtn.style.display = "none";
  });

  initQuiz();
</script>

</body>
</html>
